# Работа с Git

## 1. Проверка наличия установленного Git

В терминале выполнить команду `git version`. Если гит установлен, то появится сообщение о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git

Загружаем последнюю версию Git с сайта:
https://git-scm/downloads. 
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git
При первом использовании Git необходимо прелставиться. Для этого в терминале надо ввести две команды:
```
git config --global user.name "Имя пользователя"
git config --global user.email "почта@pochta.com"
```

## 4. Инициализация репозитория

Чтобы создать новый репозиторий, нам нужно открыть терминал, зайти в папку  проекта и выполнить команду `git init`. Это включит приложение в этой конкретной папке и создаст скрытую директорию .git, где будет храниться история репозитория и настройки.

## 5. Запись изменений в репозиториий

Для изменений в репозитории используют следующие команды:

`git add`

Команда git add добавляет содержимое рабочей директории в индекс (staging area) для последующего коммита. По умолчанию git commit использует лишь этот индекс, так что вы можете использовать git add для сборки слепка вашего следующего коммита.

`git status`

Команда git status показывает состояния файлов в рабочей директории и индексе: какие файлы изменены, но не добавлены в индекс; какие ожидают коммита в индексе. Вдобавок к этому выводятся подсказки о том, как изменить состояние файлов.

`git diff`

Команда git diff используется для вычисления разницы между любыми двумя Git деревьями. Это может быть разница между вашей рабочей директорией и индексом (собственно git diff), разница между индексом и последним коммитом (git diff --staged), или между любыми двумя коммитами (git diff master branchB).

`git difftool`

Команда git difftool просто запускает внешнюю утилиту сравнения для показа различий в двух деревьях, на случай если вы хотите использовать что-либо отличное от встроенного просмотрщика git diff.

`git commit`

Команда git commit берёт все данные, добавленные в индекс с помощью git add, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок.

`git reset`

Команда git reset, как можно догадаться из названия, используется в основном для отмены изменений. Она изменяет указатель HEAD и, опционально, состояние индекса. Также эта команда может изменить файлы в рабочей директории при использовании параметра --hard, что может привести к потере наработок при неправильном использовании, так что убедитесь в серьёзности своих намерений прежде чем использовать его.

`git rm`

Команда git rm используется в Git для удаления файлов из индекса и рабочей директории. Она похожа на git add с тем лишь исключением, что она удаляет, а не добавляет файлы для следующего коммита.

`git mv`

Команда git mv — это всего лишь удобный способ переместить файл, а затем выполнить git addдля нового файла и git rm для старого.

`git clean`

Команда git clean используется для удаления мусора из рабочей директории. Это могут быть результаты сборки проекта или файлы конфликтов слияний.

## 6. Игнорирование файлов в Git и работа с изображениями

Изображения и большие файлы в Git не принято отслеживать. Эти файлы отслеживаются в специальном файле `.gitignore`, который регистрируется в корневом каталоге репозитория. В Git нет специальной команды для указания игнорируемых файлов: вместо этого необходимо вручную отредактировать файл .gitignore, чтобы указать в нем новые файлы, которые должны быть проигнорированы.  Пример на следующей картинке:
![пример](image.png)

## 7. Работа с ветками

Для работы с ветками используют следующие команды:

`git branch`

Команда git branch — это своего рода “менеджер веток”. Она умеет перечислять ваши ветки, создавать новые, удалять и переименовывать их.

`git checkout`

Команда git checkout используется для переключения веток и выгрузки их содержимого в рабочую директорию.

`git merge`

Команда git merge используется для слияния одной или нескольких веток в текущую. Затем она устанавливает указатель текущей ветки на результирующий коммит.

`git mergetool`

Команда git mergetool просто вызывает внешнюю программу слияний, в случае если у вас возникли проблемы слияния.

`git log`, `git log --oneline` и `git log --grapf`

Команда git log используется для просмотра истории коммитов, начиная с самого свежего и уходя к истокам проекта. По умолчанию, она показывает лишь историю текущей ветки, но может быть настроена на вывод истории других, даже нескольких сразу, веток. Также её можно использовать для просмотра различий между ветками на уровне коммитов. Команда git log --grapf выводит весь список коммитов по всем веткам.

`git stash`

Команда git stash используется для временного сохранения всех незакоммиченных изменений для очистки рабочей директории без необходимости коммитить незавершённую работу в новую ветку.

`git tag`

Команда git tag используется для задания постоянной метки на какой-либо момент в истории проекта. Обычно она используется для релизов.

## 8. Работа с удаленными репозиториями

1. Создать аккаунт на GitHub.
2. Создать локальный репозиторий.
3. Создать удаленный репозиторий.
4. Связать удаленный репозиторий с локальным.

Добавить удаленный репозиторий к проекту:

```
git remote add <имя репаозитория> < адрес репозитория>
```

Для получения и слияния изменений из удаленного репозитория используется команда:
```
git pull
```

Отправить изменения локального репозитория в удаленный:
```
git push
```
## 9. Работа с чужим репозиторием

1. В своем аккаунте на GitHub создать копию репозитория из другого аккаунта с помощью кнопки `Fork`

2. Копируем ссылку во вкладке `Code`

3. В терминале вводим команду 
 
    ```
    git clone скопированная ссылка
  
    ```

тем самым копируем данный репозиторий.

4. Создаем новую ветку командой

   ```
   git branch имя новой ветки
   ```
5. Переходим к папке с клонированным репозиторием, для этого вводим команду:

    ```
        cd название репозитория
   ```

6. После внесения изменений отправляем на удаленный репозиторий: 
  
   ```
   git push адрес основного разработчика
   
   ```
    ## 10 Создаём Pull Request.

Когда работа и проверка закончены, пора создавать Pull Request. Pull Request — это запрос на вливание изменений из вашей ветки в основную ветку исходного репозитория. Таким образом они попадут к хозяевам проекта.
Чтобы создать Pull Request, зайдём на страницу вашего форка. Справа от выпадающего меню с выбором ветки есть кнопка «New pull request».
Нажимаем её.
Вы попадаете в окно сравнения веток.
Вот элементы этого окна, по порядку:
Базовый репозиторий, в который будет создаваться PR. Это должен быть репозиторий, от которого вы делали форк. Если вы форкнули проект ruRust/rustycrate.ru, а ваше имя пользователя GitHub — user, то у вас будет проект user/rustycrate.ru.
Базовая ветка в этом репозитории, обычно master.
Репозиторий, откуда должны вливаться изменения. Здесь должен быть выбран репозиторий в вашем аккаунте — user/rustycrate.ru.
Ветка, откуда будут вливаться изменения. Это должна быть ветка, которую мы создали в разделе «Создаём ветку».
Дальше просмотрите изменения — то ли это, что вы делали? Если да, то нажимайте кнопку «Create pull request». В моём примере её нет, т. к. ветки в форке и в оригинале находятся в одинаковом состоянии. В вашем же случае внизу будет список коммитов, которые попадут в исходный репозиторий, и, на других вкладках — сами изменения и комментарии к изменениям.
После нажатия кнопки появится окно ввода сообщения Pull Request.
Сообщение PR — это описание того, что сделано и зачем. В отличие от сообщения коммита, здесь уже нужно писать высокоуровневое описание того, какие изменения сделаны. В части «зачем», а также по формату самого сообщения — стоит придерживаться тех же правил, что и в случае с коммитами. Короткий заголовок (Title), в Comment — описание, а затем служебная информация (Fix #100500). Если вы писали команды закрытия задач в коммитах, здесь можно их не дублировать. Если нет — напишите здесь.
Затем нажимаем «Create pull request». Он создаётся, о нём приходит уведомление людям, поддерживающим проект, и он становится виден в исходном репозитории на вкладке «Pull requests». С этого момента начинается рецензирование изменений (code review).
Подсказка: если сразу после того, как вы отправили ветку в свой репозиторий (git push origin) зайти на страницу репозитория, там будет предложение создать Pull Request на вливание недавно отправленной ветки в master. Сделать это можно как в вашем форке, так и в исходном репозитории. Это будет отдельная кнопка вверху, и при её нажатии в качестве ветки для слияния будет указана та, куда вы делали git push.